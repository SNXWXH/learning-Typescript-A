# 러닝타입스크립트 북스터디 (1주차)

​    

## Chapter 2. 타입 시스템

​    

### 1️⃣ 타입 종류

- 타입이란?
  - JS에서 다루는 값의 형태에 대한 설명
- 형태란?
  - 값에 존재하는 속성, 메서드, typeof 연산의 값등을 의미
- 원시타입 (Primitive Type)
  1. string
  2. number
  3. boolean
  4. undefined
  5. null
  6. bigint
  7. symbol
- TS는 초기값을 갖는 변수의 타입을 유추할 수 있음 (타입 추론)

​    

### 2️⃣ 타입 시스템 (type system)

- 프로그래밍 언어가 프로그램에서 가질 수 있는 타입을 이해하는 방법에 대한 규칙 집합
- 작동순서
  1. 코드를 읽고 존재하는 모든 타입과 값을 이해
  2. 각 값이 초기 선언에서 가질 수 있는 타입을 확인
  3. 각 값이 추후 코드에서 어떻게 사용될 수 있는지 모든 방법 확인
  4. 값의 사용법이 타입과 일치하지 않으면 사용에게 오류 표시



### 3️⃣ 오류 종류

#### 1. 구문 오류

- TS가 JS로 변환되는 것을 차단한 경우
- 코드가 잘못된 구문을 감지할 때 발생
- 기본설정변경으로 JS코드를 얻을 수 는 있지만 이상한 결과를 얻을 수 있음

#### 2. 타입 오류

- 타입검사기에 따라 일치하지 않는 것이 감지된 경우
- TS가 JS로 변환되는 것을 차단하지는 않음
- 코드 실행시에 무언가 충돌하는등 예기치 못하게 동작할 수 있음

​    

### 4️⃣ 할당 가능성

- 함수의 호출이나 변수에 값을 제공할 수 있는지 여부를 확인하는 것을 의미
- TS는 변수의 초기값을 읽고 해당 변수가 허용되는 타입을 결정하고, 변수에 새로운 값이 할당되면 새로운 값과 기존값의 타입이 동일한지 확인함

​    

### 5️⃣ 타입 애너테이션 (Annotation)

- 초기값을 할당하지 않고도 변수의 타입을 선언할 수 있는 구문
- TS에서만 존재하며, 런타임 코드에는 영향을 끼치지 않음
- TS에서 JS 컴파일시 삭제됨
- 변수에 타입 애너테이션으로 정의한 타입 이외의 값을 할당시 타입 오류 발생
- 코드를 명확하게 문서화하거나, 실수로 변수 타입을 변경하지 않도록 TS를 보호하기 위해 사용하는 것은 유용하지만, 일반적으로 타입을 유추할 수 있는 변수에는 타입 애너테이션이 불필요함

> 진화하는 any

- 변수에 TS가 읽어야할 초기값이 없는 경우, 나중에 사용할 변수의 타입은 any로 설정함
- 이처럼 초기에 타입을 유추할 수 없는 변수를 진화하는 any라고 부름

​    

### 6️⃣ 타입 형태

- TS는 할당된 값이 원래 타입과 일치하는가를 확인하는 것 이상을 확인함
- 객체에 어떤 멤버 속성이 존재하는지도 확인함

```typescript
let top = "shin"
top.length // 가능
top.push('') // 불가능
```

​    

### 7️⃣ 모듈

- ECMA스크립트 모듈 (ESM)의 도입으로 import / export 구문을 사용할 수 있게됨
- CommonJS 스타일의 require함수에서 반환된 값들은 any타입으로 인식됨

​    

#### 모듈 

- export / import가 있는 파일
- 파일에 export / import가 있으면 모듈로 취급되어 다른 파일에서 변수를 가져오지 않는 한 충돌이 발생하지 않음

```typescript
// a.ts
export const mo = "dule" // 가능

// b.ts
export const mo = "dule"  // 가능

// c.ts
import { mo } from "./a"

export const mo = "dule"  // 불가능
```

​    

#### 스크립트

- 모듈이 아닌 모든 파일
- 파일이 스크립트이면 TS는 해당 파일을 전역 스코프로 간주하여 모든 스크립트에서 변수를 공유하여 충돌이 발생함

```typescript
// a.ts
const mo = "dule" // 불가능, 파일이 달라도 전역변수로 취급됨

// b.ts
const mo = "dule"  // 불가능, 파일이 달라도 전역변수로 취급됨
```

​    

> 스크립트를 강제로 모듈로 만들기

```typescript
// a.ts
const mo = "dule" 
export {}  ✔️✔️

// b.ts
const mo = "dule"  
export {}  ✔️✔️
```

